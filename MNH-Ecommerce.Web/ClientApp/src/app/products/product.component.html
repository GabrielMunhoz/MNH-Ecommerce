<h1 class="h4 titulo"> Cadastro de Produto</h1>
<label for="inputName" class="sr-only">Nome</label>
<input type="text" id="inputName"
       name="Name"
       placeholder="Nome do produto"
       class="form-control mb-2 col-md-6"
       [ngClass]= "{
           'is-invalid': name.invalid && (name.dirty || name.touched),
           'is-valid': name.valid && (name.dirty || name.touched)
           }"
       [(ngModel)]="product.name"
       #name ="ngModel"
       required
       />
<div class="invalid-feedback mb-2" *ngIf="name.invalid && (name.dirty || name.touched)">
  <div *ngIf="name.errors.required">
    Erro de preenchimento
  </div>
</div>
<input type="text" id="inputDescription"
       name="Description"
       placeholder="Descrição do produto"
       class="form-control mb-2 col-md-6"
       [ngClass]="{
           'is-invalid': description.invalid && (description.dirty || description.touched),
           'is-valid': description.valid && (description.dirty || description.touched)
           }"
       [(ngModel)]="product.description"
       #description ="ngModel"
       required/>

<div class="invalid-feedback mb-2" *ngIf="description.invalid && (description.dirty || description.touched)">
  <div *ngIf="description.errors.required">
    Erro de preenchimento
  </div>
</div>
  <input type="number" id="inputPrice"
         name="price"
         placeholder="Preco do produto"
         class="form-control mb-2 col-md-6"
         [ngClass]="{
           'is-invalid': price.invalid && (price.dirty || price.touched),
           'is-valid': price.valid && (price.dirty || price.touched)
           }"
         [(ngModel)]="product.price"
         #price="ngModel"
         required />
  <div class="invalid-feedback mb-2" *ngIf="price.invalid && (price.dirty || price.touched)">
    <div *ngIf="price.errors.required">
      Erro de preenchimento
    </div>
  </div>

  <div class="input-group mb-2">
    <div class="custom-file col-md-6">
      <input type="file" class="custom-file-input" id="inputFile" (change)="inputChange($event.target.files)"/>
      <label for="inputFile" class="custom-file-label">Escolha uma imagem do produto </label>
    </div>
  </div>

  <div class="form-inline">
    <button class="btn btn-primary " style="margin-right:4px;" (click)="register()" [disabled]="playSpinner">
      <span class="spinner-border spinner-border-sm" *ngIf="playSpinner"></span>Cadastrar
    </button>

    <button class="btn btn-danger " [routerLink]="['/searchProduct']" >
     Cancelar
    </button>
  </div>

<div class="alert alert-danger col-md-4" *ngIf="message">
{{message}}
</div>
